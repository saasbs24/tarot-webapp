<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ð’Ñ‹Ð±Ð¾Ñ€ ÐºÐ°Ñ€Ñ‚ Ð¢Ð°Ñ€Ð¾</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
        }
        h1 {
            color: #333;
        }
        #cards {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }
        .card {
            width: 150px;
            height: 250px;
            perspective: 1000px;
            cursor: pointer;
        }
        .card-inner {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s;
        }
        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
        }
        .card-front {
            transform: rotateY(180deg);
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4caf50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }
    </style>
</head>
<body>
    <h1>ðŸŽ¯ Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ 3 ÐºÐ°Ñ€Ñ‚Ñ‹ Ð¢Ð°Ñ€Ð¾</h1>
    <div id="cards"></div>
    <button id="submitBtn" disabled>âœ… ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ðµ ÐºÐ°Ñ€Ñ‚Ñ‹</button>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        const allCards = [
    // Ð¡Ñ‚Ð°Ñ€ÑˆÐ¸Ðµ ÐÑ€ÐºÐ°Ð½Ñ‹ (22 ÐºÐ°Ñ€Ñ‚Ñ‹)
    "Ð¨ÑƒÑ‚.jpg", "ÐœÐ°Ð³.jpg", "Ð’ÐµÑ€Ñ…Ð¾Ð²Ð½Ð°Ñ Ð¶Ñ€Ð¸Ñ†Ð°.jpg", "Ð˜Ð¼Ð¿ÐµÑ€Ð°Ñ‚Ñ€Ð¸Ñ†Ð°.jpg", "Ð˜Ð¼Ð¿ÐµÑ€Ð°Ñ‚Ð¾Ñ€.jpg", "Ð˜ÐµÑ€Ð¾Ñ„Ð°Ð½Ñ‚.jpg", 
    "Ð’Ð»ÑŽÐ±Ð»ÐµÐ½Ð½Ñ‹Ðµ.jpg", "ÐšÐ¾Ð»ÐµÑÐ½Ð¸Ñ†Ð°.jpg", "Ð¡Ð¸Ð»Ð°.jpg", "ÐžÑ‚ÑˆÐµÐ»ÑŒÐ½Ð¸Ðº.jpg", "ÐšÐ¾Ð»ÐµÑÐ¾ Ñ„Ð¾Ñ€Ñ‚ÑƒÐ½Ñ‹.jpg", "Ð¡Ð¿Ñ€Ð°Ð²ÐµÐ´Ð»Ð¸Ð²Ð¾ÑÑ‚ÑŒ.jpg",
    "ÐŸÐ¾Ð²ÐµÑˆÐµÐ½Ð½Ñ‹Ð¹.jpg", "Ð¡Ð¼ÐµÑ€Ñ‚ÑŒ.jpg", "Ð£Ð¼ÐµÑ€ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ.jpg", "Ð”ÑŒÑÐ²Ð¾Ð».jpg", "Ð‘Ð°ÑˆÐ½Ñ.jpg", "Ð—Ð²ÐµÐ·Ð´Ð°.jpg", 
    "Ð›ÑƒÐ½Ð°.jpg", "Ð¡Ð¾Ð»Ð½Ñ†Ðµ.jpg", "Ð¡ÑƒÐ´.jpg", "ÐœÐ¸Ñ€.jpg",

    // ÐœÐ»Ð°Ð´ÑˆÐ¸Ðµ ÐÑ€ÐºÐ°Ð½Ñ‹ â€“ Ð–ÐµÐ·Ð»Ñ‹ (14 ÐºÐ°Ñ€Ñ‚)
    "Ð¢ÑƒÐ· Ð¶ÐµÐ·Ð»Ð¾Ð².jpg", "Ð”Ð²Ð¾Ð¹ÐºÐ° Ð¶ÐµÐ·Ð»Ð¾Ð².jpg", "Ð¢Ñ€Ð¾Ð¹ÐºÐ° Ð¶ÐµÐ·Ð»Ð¾Ð².jpg", "Ð§ÐµÑ‚Ð²ÐµÑ€ÐºÐ° Ð¶ÐµÐ·Ð»Ð¾Ð².jpg", "ÐŸÑÑ‚ÐµÑ€ÐºÐ° Ð¶ÐµÐ·Ð»Ð¾Ð².jpg",
    "Ð¨ÐµÑÑ‚ÐµÑ€ÐºÐ° Ð¶ÐµÐ·Ð»Ð¾Ð².jpg", "Ð¡ÐµÐ¼ÐµÑ€ÐºÐ° Ð¶ÐµÐ·Ð»Ð¾Ð².jpg", "Ð’Ð¾ÑÑŒÐ¼ÐµÑ€ÐºÐ° Ð¶ÐµÐ·Ð»Ð¾Ð².jpg", "Ð”ÐµÐ²ÑÑ‚ÐºÐ° Ð¶ÐµÐ·Ð»Ð¾Ð².jpg", "Ð”ÐµÑÑÑ‚ÐºÐ° Ð¶ÐµÐ·Ð»Ð¾Ð².jpg",
    "ÐŸÐ°Ð¶ Ð¶ÐµÐ·Ð»Ð¾Ð².jpg", "Ð Ñ‹Ñ†Ð°Ñ€ÑŒ Ð¶ÐµÐ·Ð»Ð¾Ð².jpg", "ÐšÐ¾Ñ€Ð¾Ð»ÐµÐ²Ð° Ð¶ÐµÐ·Ð»Ð¾Ð².jpg", "ÐšÐ¾Ñ€Ð¾Ð»ÑŒ Ð¶ÐµÐ·Ð»Ð¾Ð².jpg",

    // ÐœÐ»Ð°Ð´ÑˆÐ¸Ðµ ÐÑ€ÐºÐ°Ð½Ñ‹ â€“ ÐšÑƒÐ±ÐºÐ¸ (14 ÐºÐ°Ñ€Ñ‚)
    "Ð¢ÑƒÐ· ÐºÑƒÐ±ÐºÐ¾Ð².jpg", "Ð”Ð²Ð¾Ð¹ÐºÐ° ÐºÑƒÐ±ÐºÐ¾Ð².jpg", "Ð¢Ñ€Ð¾Ð¹ÐºÐ° ÐºÑƒÐ±ÐºÐ¾Ð².jpg", "Ð§ÐµÑ‚Ð²ÐµÑ€ÐºÐ° ÐºÑƒÐ±ÐºÐ¾Ð².jpg", "ÐŸÑÑ‚ÐµÑ€ÐºÐ° ÐºÑƒÐ±ÐºÐ¾Ð².jpg",
    "Ð¨ÐµÑÑ‚ÐµÑ€ÐºÐ° ÐºÑƒÐ±ÐºÐ¾Ð².jpg", "Ð¡ÐµÐ¼ÐµÑ€ÐºÐ° ÐºÑƒÐ±ÐºÐ¾Ð².jpg", "Ð’Ð¾ÑÑŒÐ¼ÐµÑ€ÐºÐ° ÐºÑƒÐ±ÐºÐ¾Ð².jpg", "Ð”ÐµÐ²ÑÑ‚ÐºÐ° ÐºÑƒÐ±ÐºÐ¾Ð².jpg", "Ð”ÐµÑÑÑ‚ÐºÐ° ÐºÑƒÐ±ÐºÐ¾Ð².jpg",
    "ÐŸÐ°Ð¶ ÐºÑƒÐ±ÐºÐ¾Ð².jpg", "Ð Ñ‹Ñ†Ð°Ñ€ÑŒ ÐºÑƒÐ±ÐºÐ¾Ð².jpg", "ÐšÐ¾Ñ€Ð¾Ð»ÐµÐ²Ð° ÐºÑƒÐ±ÐºÐ¾Ð².jpg", "ÐšÐ¾Ñ€Ð¾Ð»ÑŒ ÐºÑƒÐ±ÐºÐ¾Ð².jpg",

    // ÐœÐ»Ð°Ð´ÑˆÐ¸Ðµ ÐÑ€ÐºÐ°Ð½Ñ‹ â€“ ÐœÐµÑ‡Ð¸ (14 ÐºÐ°Ñ€Ñ‚)
    "Ð¢ÑƒÐ· Ð¼ÐµÑ‡ÐµÐ¹.jpg", "Ð”Ð²Ð¾Ð¹ÐºÐ° Ð¼ÐµÑ‡ÐµÐ¹.jpg", "Ð¢Ñ€Ð¾Ð¹ÐºÐ° Ð¼ÐµÑ‡ÐµÐ¹.jpg", "Ð§ÐµÑ‚Ð²ÐµÑ€ÐºÐ° Ð¼ÐµÑ‡ÐµÐ¹.jpg", "ÐŸÑÑ‚ÐµÑ€ÐºÐ° Ð¼ÐµÑ‡ÐµÐ¹.jpg",
    "Ð¨ÐµÑÑ‚ÐµÑ€ÐºÐ° Ð¼ÐµÑ‡ÐµÐ¹.jpg", "Ð¡ÐµÐ¼ÐµÑ€ÐºÐ° Ð¼ÐµÑ‡ÐµÐ¹.jpg", "Ð’Ð¾ÑÑŒÐ¼ÐµÑ€ÐºÐ° Ð¼ÐµÑ‡ÐµÐ¹.jpg", "Ð”ÐµÐ²ÑÑ‚ÐºÐ° Ð¼ÐµÑ‡ÐµÐ¹.jpg", "Ð”ÐµÑÑÑ‚ÐºÐ° Ð¼ÐµÑ‡ÐµÐ¹.jpg",
    "ÐŸÐ°Ð¶ Ð¼ÐµÑ‡ÐµÐ¹.jpg", "Ð Ñ‹Ñ†Ð°Ñ€ÑŒ Ð¼ÐµÑ‡ÐµÐ¹.jpg", "ÐšÐ¾Ñ€Ð¾Ð»ÐµÐ²Ð° Ð¼ÐµÑ‡ÐµÐ¹.jpg", "ÐšÐ¾Ñ€Ð¾Ð»ÑŒ Ð¼ÐµÑ‡ÐµÐ¹.jpg",

    // ÐœÐ»Ð°Ð´ÑˆÐ¸Ðµ ÐÑ€ÐºÐ°Ð½Ñ‹ â€“ ÐŸÐµÐ½Ñ‚Ð°ÐºÐ»Ð¸ (14 ÐºÐ°Ñ€Ñ‚)
    "Ð¢ÑƒÐ· Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg", "Ð”Ð²Ð¾Ð¹ÐºÐ° Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg", "Ð¢Ñ€Ð¾Ð¹ÐºÐ° Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg", "Ð§ÐµÑ‚Ð²ÐµÑ€ÐºÐ° Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg", "ÐŸÑÑ‚ÐµÑ€ÐºÐ° Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg",
    "Ð¨ÐµÑÑ‚ÐµÑ€ÐºÐ° Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg", "Ð¡ÐµÐ¼ÐµÑ€ÐºÐ° Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg", "Ð’Ð¾ÑÑŒÐ¼ÐµÑ€ÐºÐ° Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg", "Ð”ÐµÐ²ÑÑ‚ÐºÐ° Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg", "Ð”ÐµÑÑÑ‚ÐºÐ° Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg",
    "ÐŸÐ°Ð¶ Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg", "Ð Ñ‹Ñ†Ð°Ñ€ÑŒ Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg", "ÐšÐ¾Ñ€Ð¾Ð»ÐµÐ²Ð° Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg", "ÐšÐ¾Ñ€Ð¾Ð»ÑŒ Ð¿ÐµÐ½Ñ‚Ð°ÐºÐ»ÐµÐ¹.jpg"
];

        // ÐŸÐµÑ€ÐµÐ¼ÐµÑˆÐ¸Ð²Ð°Ð½Ð¸Ðµ Ð¼Ð°ÑÑÐ¸Ð²Ð° ÐºÐ°Ñ€Ñ‚ (Fisher-Yates shuffle)
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Ð’Ñ‹Ð±Ð¸Ñ€Ð°ÐµÐ¼ ÑÐ»ÑƒÑ‡Ð°Ð¹Ð½Ñ‹Ðµ 5 ÐºÐ°Ñ€Ñ‚
        const selectedCards = shuffle([...allCards]).slice(0, 5);

        const cardsContainer = document.getElementById("cards");
        const selected = [];

        // Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐµÐº
        selectedCards.forEach(card => {
            const cardElement = document.createElement("div");
            cardElement.className = "card";
            cardElement.innerHTML = `
                <div class="card-inner" onclick="flipCard(this, '${card}')">
                    <div class="card-back">
                        <img src="cards/card_back.jpg" alt="Back" style="width: 100%; height: 100%;">
                    </div>
                    <div class="card-front">
                        <img src="cards/${card}" alt="${card}" style="width: 100%; height: 100%;">
                    </div>
                </div>
            `;
            cardsContainer.appendChild(cardElement);
        });

        // Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¿ÐµÑ€ÐµÐ²Ð¾Ñ€Ð¾Ñ‚Ð° ÐºÐ°Ñ€Ñ‚Ñ‹
        window.flipCard = function (element, card) {
            const parent = element.parentElement;
            if (!parent.classList.contains("flipped")) {
                parent.classList.add("flipped");
                selected.push(card);
                if (selected.length === 3) {
                    document.getElementById("submitBtn").disabled = false;
                }
            }
        };

        // ÐžÑ‚Ð¿Ñ€Ð°Ð²ÐºÐ° Ð²Ñ‹Ð±Ñ€Ð°Ð½Ð½Ñ‹Ñ… ÐºÐ°Ñ€Ñ‚
        document.getElementById("submitBtn").addEventListener("click", () => {
			if (selected.length === 3) {
				tg.sendData(JSON.stringify({ cards: selected }));
				tg.close();
			}
		});
    </script>
</body>
</html>
